<!DOCTYPE html>
<html lang="en">
	<head>
		<link rel="stylesheet" href="css/app.css">
	</head>
	<body style="height: 1000vh">
		<!-- http://imakewebthings.com/waypoints/guides/getting-started/ -->
<!-- 		<div id="my-offset-debug"></div> -->
		<div class="article"><h2>This is a paragraph</h2></div>
		<div class="graphic__wrapper">
			<div class="basic-sticky-waypoint">
				<img class="my-image my-image--filtered" src="img/tiepolo1765.jpg" alt="">
			</div>

			<div id="basic-waypoint" class="basic-waypoint-bkg"><h4>Here we see a young boy – or, perhaps, a dwarf – wearing a funny feathered hat. A large key hangs from his belt – does it unlock the meaning of the painting? In his hand he holds a magnifying glass.</h4></div>
			<div id="basic-waypoint-2" class="basic-waypoint-bkg"><h4>So, too, does the man next to him; wearing a bright red robe and bautta, or tricorn hat and mask, this monumental figure peers intently through his looking glass. Is the visual emphasis on magnification that characterizes this pair an invitation for us to join their company, to look more closely?</h4></div>
			<div id="basic-waypoint-3" class="basic-waypoint-bkg"><h4>Now we see a masked boy holding a lantern. He seems to be tugging at the man’s red robe. Does the lantern-carrying boy serve to illuminate the identity of this masked ensemble? Or does he shed light on the scene unfolding before them?</h4></div>
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="/js/waypoints/lib/noframework.waypoints.min.js"></script>
		<script src="/js/waypoints/lib/jquery.waypoints.min.js"></script>
		<script src="/js/waypoints/lib/shortcuts/sticky.min.js"></script>
		<script src="/js/waypoints/lib/waypoints.debug.js"></script> <!-- remove in production -->

		<script>
			$(function() {
				console.log("hello");

				// instantiate the global Waypoint class and pass an options object to it. the two paramaters required are element and handler
				var waypoint = new Waypoint({
					element: document.getElementById('basic-waypoint'), // tells Waypoint which DOM element's position to observe on scroll
					handler: function(direction) { // triggered when the top of the element hits the top of the viewport
						console.log('Direction: ' + direction);
						console.log("my text hit the trigger");
						if(direction === 'down') {
							document.getElementById('basic-waypoint').classList.add('my-test-in');
							document.getElementById('basic-waypoint').classList.remove('my-test-out');
							$('.my-image').addClass('my-image__animation--2');
							$('.my-image').removeClass('my-image__animation--1');
						}
						else {
							document.getElementById('basic-waypoint').classList.add('my-test-out');
							document.getElementById('basic-waypoint').classList.remove('my-test-in');
							$('.my-image').addClass('my-image__animation--1');
							$('.my-image').removeClass('my-image__animation--2');
						}
						
					},
					offset: 150, // moving the trigger location from 0 at the top of the viewport
				})
				var waypoint = new Waypoint({
					element: document.getElementById('basic-waypoint-2'), // tells Waypoint which DOM element's position to observe on scroll
					handler: function(direction) { // triggered when the top of the element hits the top of the viewport
						console.log('Direction: ' + direction);
						console.log("my text 2 hit the trigger");
						if(direction === 'down') {
							document.getElementById('basic-waypoint-2').classList.add('my-test-in');
							document.getElementById('basic-waypoint-2').classList.remove('my-test-out');
							$('.my-image').addClass('my-image__animation--3');
							$('.my-image').removeClass('my-image__animation--2');
						}
						else {
							document.getElementById('basic-waypoint-2').classList.add('my-test-out');
							document.getElementById('basic-waypoint-2').classList.remove('my-test-in');
							$('.my-image').addClass('my-image__animation--2');
							$('.my-image').removeClass('my-image__animation--3');
						}
					},
					offset: 150, // moving the trigger location from 0 at the top of the viewport
				})
				var waypoint = new Waypoint({
					element: document.getElementById('basic-waypoint-3'), // tells Waypoint which DOM element's position to observe on scroll
					handler: function(direction) { // triggered when the top of the element hits the top of the viewport
						console.log('Direction: ' + direction);
						console.log("my text 3 hit the trigger");
						if(direction === 'down') {
							document.getElementById('basic-waypoint-3').classList.add('my-test-in');
							document.getElementById('basic-waypoint-3').classList.remove('my-test-out');
							$('.my-image').addClass('my-image__animation--reset');
							$('.my-image').removeClass('my-image__animation--3');
						}
						else {
							document.getElementById('basic-waypoint-3').classList.add('my-test-out');
							document.getElementById('basic-waypoint-3').classList.remove('my-test-in');
							$('.my-image').addClass('my-image__animation--3');
							$('.my-image').removeClass('my-image__animation--reset');
						}

						// if($('#basic-waypoint-3').hasClass('my-test-in')) {
						// 	sticky.destroy();
						// }
					},
					offset: 150, // moving the trigger location from 0 at the top of the viewport
				})


				var sticky = new Waypoint.Sticky({
					element: $('.basic-sticky-waypoint')[0],
					handler: function() { // triggered when the top of the element hits the top of the viewport
						console.log('am I sticking?');
						$('.my-image').addClass('my-image__animation--1');
						$('.my-image').removeClass('my-image--filtered');
					}
				})
			});



		</script>
	</body>
</html>